<html>
    <head>
        <meta charset="UTF-8">
        <title>ajax todo</title>
    </head>
    <body>
        <h1>Hello doge</h1>
        <img src=/images/doge.gif>
    </body>
    <script>
        var ajax = function(method, path, data, reseponseCallback) {
            var r = new XMLHttpRequest()
            r.open(method, path, true)
            r.setRequestHeader('Content-Type', 'application/json')
            r.onreadystatechange = function() {
                if(r.readyState === 4) {
                    var res = JSON.parse(r.response)
                    reseponseCallback(res)
                }
            }
            data = JSON.stringify(data)
            r.send(data)
        }

        var apiTodoAll = function (callback) {
            var method = 'GET'
            var path = '/todo/all'
            var data = ''
            ajax(method, path, data, callback)
        }

        apiTodoAll(function (response) {
            console.log('api todo all', response)
        })
    </script>
</html>